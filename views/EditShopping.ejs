<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Document</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha3/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-KK94CHFLLe+nY2dmCWGMq91rCGa5gtU4mk92HdvYe+M/SXH301p5ILy+dN9+nJOZ" crossorigin="anonymous">
</head>
<body>
    <div>
        <form class="w-50 mx-auto my-5 rounded-2 border p-3 shadow" action="/shop/editItems" method="post">
            <h1 class="text-center fw-bolder text-primary">Edit Items</h1>
            <input type="hidden" name="_id" value="<%= _id %>">
            <div class="w-100 d-grid my-2">
                <label class="fw-bolder fs-5" for="Items">Items :</label>
                <input class="form-control" type="text" name="items" value="<%= items %>">
            </div>
            <div class="w-100 d-grid my-2">
                <label class="fw-bolder fs-5" for="price">Price :</label>
                <input class="form-control" type="text" name="price" value="<%= price %>" >
            </div>
            <div class="w-100 d-grid my-2">
                <label class="fw-bolder fs-5" for="quantity">Quantity :</label>
                <input class="form-control" type="number" value="<%= quantity %>" name="quantity" oninput="calculateTotal()">
            </div>
            <div class="w-100 d-grid my-2">
                <label class="fw-bolder fs-5" for="total">Total :</label>
                <input class="form-control" type="text" name="total" value="<%= total %>" id="totalInput" readonly>
            </div>
            <button class="btn btn-primary text-center">Save Changes</button>
        </form>
    </div>
    <script>
        function calculateTotal() {
            const quantityInput = document.getElementsByName("quantity")[0];
            const priceInput = document.getElementsByName("price")[0];
            const totalInput = document.getElementById("totalInput");

            const quantity = parseFloat(quantityInput.value);
            const price = parseFloat(priceInput.value.replace("$", "")); // Remove the dollar sign before parsing

            if (!isNaN(quantity) && !isNaN(price)) {
                const total = quantity * price;
                totalInput.value = "$" + total.toFixed(2); // Add the dollar sign to the total
            } else {
                totalInput.value = "";
            }
        }

    </script>
</body>
</html>